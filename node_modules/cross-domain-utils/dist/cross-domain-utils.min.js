!function(r,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("crossDomainUtils",[],t):"object"==typeof exports?exports.crossDomainUtils=t():r.crossDomainUtils=t()}("undefined"!=typeof self?self:this,function(){return function(r){function t(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return r[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var e={};return t.m=r,t.c=e,t.d=function(r,e,n){t.o(r,e)||Object.defineProperty(r,e,{configurable:!1,enumerable:!0,get:n})},t.n=function(r){var e=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(e,"a",e),e},t.o=function(r,t){return Object.prototype.hasOwnProperty.call(r,t)},t.p="",t(t.s="./src/index.js")}({"./src/index.js":function(r,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e("./src/utils.js");Object.keys(n).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(t,r,{enumerable:!0,get:function(){return n[r]}})});var o=e("./src/types.js");Object.keys(o).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(t,r,{enumerable:!0,get:function(){return o[r]}})})},"./src/types.js":function(r,t,e){"use strict"},"./src/util.js":function(r,t,e){"use strict";function n(r){return"[object RegExp]"===Object.prototype.toString.call(r)}function o(){}Object.defineProperty(t,"__esModule",{value:!0}),t.isRegex=n,t.noop=o},"./src/utils.js":function(r,t,e){"use strict";function n(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window).location.protocol===Q.FILE_PROTOCOL}function o(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window).location.protocol===Q.ABOUT_PROTOCOL}function i(r){if(r)try{if(r.parent&&r.parent!==r)return r.parent}catch(r){}}function a(r){if(r&&!i(r))try{return r.opener}catch(r){}}function u(r){try{return(0,H.noop)(r&&r.location&&r.location.href),!0}catch(r){}return!1}function c(r){var t=r.location;if(!t)throw new Error("Can not read window location");var e=t.protocol;if(!e)throw new Error("Can not read window protocol");if(e===Q.FILE_PROTOCOL)return Q.FILE_PROTOCOL+"//";if(e===Q.ABOUT_PROTOCOL){var n=i(r);return n&&u(r)?c(n):Q.ABOUT_PROTOCOL+"//"}var o=t.host;if(!o)throw new Error("Can not read window host");return e+"//"+o}function f(r){r=r||window;var t=c(r);return t&&r.mockDomain&&0===r.mockDomain.indexOf(Q.MOCK_PROTOCOL)?r.mockDomain:t}function s(r){try{if(!r.location.href)return!0;if("about:blank"===r.location.href)return!0}catch(r){}return!1}function l(r){try{if(r===window)return!0}catch(r){}try{var t=Object.getOwnPropertyDescriptor(r,"location");if(t&&!1===t.enumerable)return!1}catch(r){}try{if(o(r)&&u(r))return!0}catch(r){}try{if(c(r)===c(window))return!0}catch(r){}return!1}function d(r){if(!l(r))return!1;try{if(r===window)return!0;if(o(r)&&u(r))return!0;if(f(window)===f(r))return!0}catch(r){}return!1}function y(r){var t=[];try{for(;r.parent!==r;)t.push(r.parent),r=r.parent}catch(r){}return t}function v(r,t){if(!r||!t)return!1;var e=i(t);return e?e===r:-1!==y(t).indexOf(r)}function p(r){var t=[],e=void 0;try{e=r.frames}catch(t){e=r}var n=void 0;try{n=e.length}catch(r){}if(0===n)return t;if(n){for(var o=0;o<n;o++){var i=void 0;try{i=e[o]}catch(r){continue}t.push(i)}return t}for(var a=0;a<100;a++){var u=void 0;try{u=e[a]}catch(r){return t}if(!u)return t;t.push(u)}return t}function h(r){for(var t=[],e=p(r),n=Array.isArray(e),o=0,e=n?e:e[Symbol.iterator]();;){var i;if(n){if(o>=e.length)break;i=e[o++]}else{if(o=e.next(),o.done)break;i=o.value}var a=i;t.push(a);for(var u=h(a),c=Array.isArray(u),f=0,u=c?u:u[Symbol.iterator]();;){var s;if(c){if(f>=u.length)break;s=u[f++]}else{if(f=u.next(),f.done)break;s=f.value}var l=s;t.push(l)}}return t}function m(r){if(r){try{if(r.top)return r.top}catch(r){}if(i(r)===r)return r;try{if(v(window,r)&&window.top)return window.top}catch(r){}try{if(v(r,window)&&window.top)return window.top}catch(r){}for(var t=h(r),e=Array.isArray(t),n=0,t=e?t:t[Symbol.iterator]();;){var o;if(e){if(n>=t.length)break;o=t[n++]}else{if(n=t.next(),n.done)break;o=n.value}var a=o;try{if(a.top)return a.top}catch(r){}if(i(a)===a)return a}}}function w(r){var t=m(r);return h(t).concat(t)}function g(r){return r===m(r)}function O(r){if(!r.contentWindow)return!0;if(!r.parentNode)return!0;var t=r.ownerDocument;return!(!t||!t.body||t.body.contains(r))}function b(r,t){for(var e=0;e<r.length;e++)try{if(r[e]===t)return e}catch(r){}return-1}function A(r){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{if(r===window)return!1}catch(r){return!0}try{if(!r)return!0}catch(r){return!0}try{if(r.closed)return!0}catch(r){return!r||r.message!==V}if(t&&d(r))try{if(r.mockclosed)return!0}catch(r){}try{if(!r.parent||!r.top)return!0}catch(r){}try{(0,H.noop)(r===r)}catch(r){return!0}var e=b(X,r);if(-1!==e){var n=Y[e];if(n&&O(n))return!0}return!1}function x(){for(var r=0;r<Y.length;r++)O(Y[r])&&(Y.splice(r,1),X.splice(r,1));for(var t=0;t<X.length;t++)A(X[t])&&(Y.splice(t,1),X.splice(t,1))}function k(r){if(x(),r&&r.contentWindow)try{X.push(r.contentWindow),Y.push(r)}catch(r){}}function _(r){return r=r||window,r.navigator.mockUserAgent||r.navigator.userAgent}function j(r,t){for(var e=p(r),n=e,o=Array.isArray(n),i=0,n=o?n:n[Symbol.iterator]();;){var a;if(o){if(i>=n.length)break;a=n[i++]}else{if(i=n.next(),i.done)break;a=i.value}var u=a;try{if(d(u)&&u.name===t&&-1!==e.indexOf(u))return u}catch(r){}}try{if(-1!==e.indexOf(r.frames[t]))return r.frames[t]}catch(r){}try{if(-1!==e.indexOf(r[t]))return r[t]}catch(r){}}function P(r,t){var e=j(r,t);if(e)return e;for(var n=p(r),o=Array.isArray(n),i=0,n=o?n:n[Symbol.iterator]();;){var a;if(o){if(i>=n.length)break;a=n[i++]}else{if(i=n.next(),i.done)break;a=i.value}var u=a,c=P(u,t);if(c)return c}}function C(r,t){var e=void 0;return(e=j(r,t))?e:P(m(r)||r,t)}function T(r,t){var e=i(t);if(e)return e===r;for(var n=p(r),o=Array.isArray(n),a=0,n=o?n:n[Symbol.iterator]();;){var u;if(o){if(a>=n.length)break;u=n[a++]}else{if(a=n.next(),a.done)break;u=a.value}if(u===t)return!0}return!1}function D(r,t){return r===a(t)}function R(r){r=r||window;var t=a(r);if(t)return t;var e=i(r);return e||void 0}function S(r){for(var t=[],e=r;e;)(e=R(e))&&t.push(e);return t}function F(r,t){var e=R(t);if(e)return e===r;if(t===r)return!1;if(m(t)===t)return!1;for(var n=p(r),o=Array.isArray(n),i=0,n=o?n:n[Symbol.iterator]();;){var a;if(o){if(i>=n.length)break;a=n[i++]}else{if(i=n.next(),i.done)break;a=i.value}if(a===t)return!0}return!1}function L(){return Boolean(a(window))}function W(){return Boolean(i(window))}function B(){return Boolean(!W()&&!L())}function E(r,t){for(var e=r,n=Array.isArray(e),o=0,e=n?e:e[Symbol.iterator]();;){var i;if(n){if(o>=e.length)break;i=e[o++]}else{if(o=e.next(),o.done)break;i=o.value}for(var a=i,u=t,c=Array.isArray(u),f=0,u=c?u:u[Symbol.iterator]();;){var s;if(c){if(f>=u.length)break;s=u[f++]}else{if(f=u.next(),f.done)break;s=f.value}if(a===s)return!0}}return!1}function U(){for(var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=0,e=r;e;)(e=i(e))&&(t+=1);return t}function I(r){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=r,n=0;n<t;n++){if(!e)return;e=i(e)}return e}function M(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return I(r,U(r)-t)}function N(r,t){var e=m(r)||r,n=m(t)||t;try{if(e&&n)return e===n}catch(r){}var o=w(r),i=w(t);if(E(o,i))return!0;var u=a(e),c=a(n);return(!u||!E(w(u),i))&&(c&&E(w(c),o),!1)}function J(r,t){if("string"==typeof r){if("string"==typeof t)return r===Q.WILDCARD||t===r;if((0,H.isRegex)(t))return!1;if(Array.isArray(t))return!1}return(0,H.isRegex)(r)?(0,H.isRegex)(t)?r.toString()===t.toString():!Array.isArray(t)&&Boolean(t.match(r)):!!Array.isArray(r)&&(Array.isArray(t)?JSON.stringify(r)===JSON.stringify(t):!(0,H.isRegex)(t)&&r.some(function(r){return J(r,t)}))}function K(r){return Array.isArray(r)?"("+r.join(" | ")+")":(0,H.isRegex)(r)?"RegExp("+r.toString():r.toString()}function q(r){var t=void 0;return r.match(/^(https?|mock|file):\/\//)?(t=r,t=t.split("/").slice(0,3).join("/")):f()}function z(r,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,o=void 0;return function i(){if(A(r))return o&&clearTimeout(o),t();n<=0?clearTimeout(o):(n-=e,o=setTimeout(i,e))}(),{cancel:function(){o&&clearTimeout(o)}}}function G(r){try{if(r===window)return!0}catch(r){if(r&&r.message===V)return!0}try{if("[object Window]"===Object.prototype.toString.call(r))return!0}catch(r){if(r&&r.message===V)return!0}try{if(window.Window&&r instanceof window.Window)return!0}catch(r){if(r&&r.message===V)return!0}try{if(r&&r.self===r)return!0}catch(r){if(r&&r.message===V)return!0}try{if(r&&r.parent===r)return!0}catch(r){if(r&&r.message===V)return!0}try{if(r&&r.top===r)return!0}catch(r){if(r&&r.message===V)return!0}try{(0,H.noop)(r===r)}catch(r){return!0}try{(0,H.noop)(r&&r.__cross_domain_utils_window_check__)}catch(r){return!0}return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.isFileProtocol=n,t.isAboutProtocol=o,t.getParent=i,t.getOpener=a,t.canReadFromWindow=u,t.getActualDomain=c,t.getDomain=f,t.isBlankDomain=s,t.isActuallySameDomain=l,t.isSameDomain=d,t.getParents=y,t.isAncestorParent=v,t.getFrames=p,t.getAllChildFrames=h,t.getTop=m,t.getAllFramesInWindow=w,t.isTop=g,t.isFrameWindowClosed=O,t.isWindowClosed=A,t.linkFrameWindow=k,t.getUserAgent=_,t.getFrameByName=j,t.findChildFrameByName=P,t.findFrameByName=C,t.isParent=T,t.isOpener=D,t.getAncestor=R,t.getAncestors=S,t.isAncestor=F,t.isPopup=L,t.isIframe=W,t.isFullpage=B,t.getDistanceFromTop=U,t.getNthParent=I,t.getNthParentFromTop=M,t.isSameTopWindow=N,t.matchDomain=J,t.stringifyDomainPattern=K,t.getDomainFromUrl=q,t.onCloseWindow=z,t.isWindow=G;var H=e("./src/util.js"),Q={MOCK_PROTOCOL:"mock:",FILE_PROTOCOL:"file:",ABOUT_PROTOCOL:"about:",WILDCARD:"*"},V="Call was rejected by callee.\r\n",X=[],Y=[]}})});
//# sourceMappingURL=cross-domain-utils.min.js.map
//# sourceMappingURL=cross-domain-utils.min.js.map